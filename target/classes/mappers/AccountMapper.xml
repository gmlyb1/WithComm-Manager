<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.soft.dao.AccountDAO">  
  
  	<!-- 중복체크 -->
  	<select id="checkMemId" resultType="memberVO">
  		select 
  			*
		from
		tbl_member
		where me_id = $(me_id)
  	</select>

	 <!-- ID 존재여부  -->
   <select id="loginIncludeID" resultType="memberVO">
		select
			*
		from
		tbl_member
		where me_email = #{me_email}		
	</select>    
	
	<!-- 로그인 확인 -->
	
	<select id="loginMem" parameterType="memberVO" resultType="memberVO">
		select 
		   *
		from
		tbl_member
		where me_email = #{me_email} and me_pwd = ${me_pwd}
	</select>

	 <!-- 회원 정보 -->
  	<select id="infoMem" resultType="memberVO">
     select 
        *
     from
     tbl_member
     where me_id = #{me_id}	
  	</select>
  	
  	<!-- 회원 리스트 -->
  	<select id="listMem" resultType="memberVO">
  		select 
  		   *
  		from
  		tbl_member
  		where me_id != 9999
  	</select>
  	
  	<!-- 회원가입 -->
  	<insert id="joinMem">
  		insert 
  			into
		tbl_member
 	(
			me_id
		,	me_email
		,	me_pwd
		,	me_name
		,	me_dept
		,	me_posi
		,	me_regDate
		,	me_extension
		,	me_image
  	)
  			values
  	(
  			#{me_id}
  		,	#{me_email}
  		,	#{me_pwd}
  		,	#{me_name}
  		,	#{me_dept}
  		,	#{me_posi}
  		,	#{me_regDate}
  		,	#{me_extension}
  		,	#{me_image}
  	)
  	</insert>
  	
  	<!-- 회원 수정 -->
  	<update id="updateMem">
  	update tbl_member
  			set 
  		me_id = #{me_id}
  	,	me_email = #{me_email}
  	,	me_pwd =  #{me_pwd}
  	,	me_name = #{me_name}
  	,	me_dept = #{me_dept}
  	,	me_posi	= #{me_posi}
  	,   me_regDate = now()
  	,   me_extension = #{me_extension}
  	,   me_regDate = now()
  	,   me_image = #{me_image}
  	where
  		me_id =#{me_id} and me_pwd = #{me_pwd}
  	</update>
  	
  	
  	<!-- 회원 탈퇴 -->
	<delete id="deleteMem">
		delete 
		 from
	  tbl_member
	where me_id = #{me_id} and me_pwd = #{me_pwd}		
	</delete>  	
  	
</mapper>